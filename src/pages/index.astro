---
import Layout from "@/layouts/Layout.astro";
import projects from "@scripts/projects.json";
---

<Layout title="Mini-Projects">
    <main class="link-card-grid">
        <section class="proyect-show">
            <h1>Mini-Projects</h1>
            <div id="iframe-container">
                <!-- <iframe
                    class="iframe"
                    src="http://localhost:4321/projects/10-Music-player/index.html"
                    title="Page proyect"></iframe> -->
            </div>
        </section>
        <span class="divider"> </span>
        <section class="proyects-display">
            <table>
                <thead>
                    <td>#</td>
                    <td>Proyecto</td>
                    <td>Demo</td>
                </thead>
                <tbody>
                    {
                        projects.map(({ name, url, id, number }) => (
                            <tr id={id}>
                                <td>{number}</td>
                                <td>{name}</td>
                                <td>
                                    <a href={url}>Demo</a>
                                </td>
                            </tr>
                        ))
                    }
                </tbody>
            </table>
        </section>
    </main>
</Layout>

<style is:global>
    main {
        --height-containers: 75%;
        font-size: 1.125rem;
        padding: 1rem;
        margin: auto;
        width: 100%;
        height: 100vh;
        max-width: 1250px;
        display: grid;
        align-items: center;
        grid-template-columns: 1fr auto 1fr;
    }
    .proyect-show {
        height: var(--height-containers);
        display: flex;
        flex-direction: column;
        justify-content: center;

        & h1 {
            margin-bottom: 35px;
            text-align: center;
        }

        & #iframe-container {
            overflow: hidden;
            position: relative;
            aspect-ratio: 16 / 8;
            /* width: 100%;
            /* width: 1440px;
            height: 900px; */
            background-color: red;
            & .iframe {
                position: absolute;
                border: 0;
                width: 100vw;
                height: 100vh;
                pointer-events: none;
                transform-origin: 0 0;
                top: 50%;
                left: 50%;
                transform: scale(0.298) translate(-50%, -50%);
            }
        }
    }
    /* DIVIDER */
    .divider {
        height: var(--height-containers);
        max-height: var(--height-containers);
        width: 3px;
        background: linear-gradient(blue, red);
        margin: 0 3rem;
    }
    /* TABLE FOR PROYECTS */
    .proyects-display {
        display: grid;
        align-items: center;
        height: var(--height-containers);
        overflow-y: auto;
        padding: 1px 5px;
        width: 100%;

        & table {
            grid-column: 1;
            display: flex;
            flex-direction: column;
            text-align: left;

            & thead {
                background-color: #23232c;
                position: sticky;
                top: 0;

                & tr {
                    border-radius: 5px 5px 0px 0px;
                    font-weight: bold;
                    color: #f9f4f4;
                    padding: 15px;
                }
            }
            & tr {
                display: flex;
                align-items: center;
                justify-content: space-between;
                border: 1px solid #23232c;
                margin-top: -1px;
                color: #e5e1e1;
                padding: 15px;
                text-align: left;
            }
            & tbody {
                & tr:hover {
                    background-color: var(--highlight);
                }
            }
        }
    }
</style>
